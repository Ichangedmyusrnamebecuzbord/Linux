<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test ActiveUsers</title>
  <!-- Firebase compat scripts -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
<body>
  <script>
    // Basic Firebase config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID"
    };

    // Initialize
    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
      console.log("✅ Firebase Initialized!");
    } else {
      console.log("ℹ️ Firebase already initialized.");
    }
    const db = firebase.firestore();
    console.log("✅ Firestore Ready:", db);

    // Test writing an active user doc
    db.collection("activeUsers").doc("testDoc").set({
      username: "testUser",
      session: "testSession"
    }).then(() => {
      console.log("✅ Wrote testDoc to activeUsers");
    }).catch(err => {
      console.error("❌ Write error:", err);
    });

    // Test reading activeUsers
    db.collection("activeUsers").get()
      .then(snap => {
        console.log("✅ Read activeUsers, doc count:", snap.size);
      })
      .catch(err => {
        console.error("❌ Read error:", err);
      });
  </script>
</body>
</html>
